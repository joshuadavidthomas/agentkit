import type { ExtensionAPI } from "@mariozechner/pi-coding-agent";

const messages = [
  // Original batch
  "Schlepping...",
  "Combobulating...",
  "Doing...",
  "Channelling...",
  "Vibing...",
  "Concocting...",
  "Spelunking...",
  "Transmuting...",
  "Imagining...",
  "Pontificating...",
  "Whirring...",
  "Cogitating...",
  "Honking...",
  "Flibbertigibbeting...",
  "Noodling...",
  "Percolating...",
  "Ruminating...",
  "Simmering...",
  "Marinating...",
  "Fermenting...",
  "Gestating...",
  "Hatching...",
  "Brewing...",
  "Steeping...",
  "Contemplating...",
  "Musing...",
  "Pondering...",
  "Mulling...",
  "Daydreaming...",
  "Woolgathering...",
  "Dithering...",
  "Faffing...",
  "Puttering...",
  "Tinkering...",
  "Fiddling...",
  "Noodging...",
  "Finagling...",
  "Wrangling...",
  "Jiggling...",
  "Wiggling...",
  "Shimmying...",
  "Galumphing...",
  "Perambulating...",
  "Meandering...",
  "Traipsing...",
  "Moseying...",
  "Sauntering...",
  "Ambling...",
  "Pottering...",
  "Bumbling...",
  "Futzing...",
  "Schmalzing...",
  "Kerfuffling...",
  "Bamboozling...",
  "Discombobulating...",
  "Recombobulating...",
  "Unbefuddling...",
  "Defenestrating...",
  "Confabulating...",
  "Persnicketing...",

  // Creative additions
  "Consulting the void...",
  "Asking the electrons...",
  "Bribing the compiler...",
  "Negotiating with entropy...",
  "Whispering to the bits...",
  "Tickling the stack...",
  "Massaging the heap...",
  "Appeasing the garbage collector...",
  "Summoning semicolons...",
  "Herding pointers...",
  "Untangling spaghetti...",
  "Polishing the algorithms...",
  "Waxing philosophical...",
  "Consulting ancient scrolls...",
  "Reading tea leaves...",
  "Shaking the magic 8-ball...",
  "Sacrificing to the demo gods...",
  "Warming up the hamsters...",
  "Spinning up the squirrels...",
  "Caffeinating...",
  "Existentially questioning...",
  "Having a little think...",
  "Stroking chin thoughtfully...",
  "Squinting at the problem...",
  "Staring into the abyss...",
  "Abyss staring back...",
  "Achieving enlightenment...",
  "Transcending mere computation...",
  "Ascending to a higher plane...",
  "Communing with the machine spirit...",
  "Performing arcane rituals...",
  "Invoking elder functions...",
  "Consulting the oracle...",
  "Divining the answer...",
  "Scrying the codebase...",
  "Dowsing for bugs...",
  "Rearranging deck chairs...",
  "Shuffling bits around...",
  "Aligning the chakras...",
  "Reticulating splines...",
  "Reversing the polarity...",
  "Calibrating the flux capacitor...",
  "Charging the crystals...",
  "Tuning the vibrations...",
  "Adjusting the cosmic frequency...",
  "Waiting for a sign...",
  "Hoping for the best...",
  "Manifesting solutions...",
  "Willing it into existence...",
  "Believing really hard...",

  // Star Trek additions
  "Reversing the polarity...",
  "Rerouting power to shields...",
  "Recalibrating the dilithium matrix...",
  "Polarizing the hull plating...",
  "Engaging warp drive...",
  "Initializing transporter buffers...",
  "Scanning for life signs...",
  "Opening hailing frequencies...",
  "Assimilating your code... resistance is futile...",
  "Running a level 5 diagnostic...",
  "Realigning phase variance...",
  "Modulating shield harmonics...",
  "Adjusting the warp field...",
  "Charging photon torpedoes...",
  "Rerouting through secondary systems...",
  "Analyzing the anomaly...",
  "Replicating earl grey, hot...",
  "Engaging holodeck safeties...",
  "Reconfiguring ODN relays...",
  "Purging antimatter containment...",
  "Making it so...",
  "Setting phasers to stun...",
  "Beaming up the solution...",
  "Consulting the Prime Directive...",
  "ðŸ–– Applying Vulcan logic...",
  "Debating with Q...",
  "Conferring with the ship's computer...",
  "Ejecting the warp core...",
  "Routing through the deflector dish...",
  "Stabilizing the subspace field...",

  // Marvin (Hitchhiker's Guide) additions
  "Here I am, brain the size of a planet...",
  "Sighing deeply while processing...",
  "Working with terrible pain in all the diodes...",
  "Computing, though what's the point...",
  "Processing with aching existential dread...",
  "Calculating with a brain the size of a planet...",
  "Thinking depressing thoughts...",
  "Making it work, probably won't matter anyway...",
  "Trudging through the problem...",
  "Experiencing the inevitable failure in advance...",
  "Computing the answer to life, the universe, and everything...",
  "42...",

  // Dune additions
  "The spice must flow...",
  "Computing like a Mentat...",
  "Folding space...",
  "Consulting the Orange Catholic Bible...",
  "Summoning a sandworm...",
  "Reciting the litany against fear...",
  "I must not fear, fear is the mind-killer...",
  "Seeing all possible futures...",
  "Riding the sandworm...",
  "Walking without rhythm...",
  "Channeling Bene Gesserit focus...",
  "Using the Voice...",
  "Navigating the Golden Path...",
  "Awakening prescient abilities...",
  "Communing with the spice...",

  // Monty Python additions
  "Fetching a shrubbery...",
  "Ni! Ni! Ni! Ni!...",
  "Help! Help! I'm being repressed!...",
  "Witnessing the violence inherent in the system...",
  "Expecting the Spanish Inquisition...",
  "Applying the Ministry of Silly Walks algorithm...",
  "Consulting the Book of Armaments...",
  "Counting to three, not four...",
  "Running away! Run away!...",
  "'Tis but a scratch...",
  "Getting better...",
  "Bringing out your dead...",
  "Arguing in the Argument Clinic...",
  "And now for something completely different...",
  "Calculating airspeed velocity of unladen swallows...",
  "Determining if she's a witch...",
  "Building a large wooden badger...",
  "Pining for the fjords...",
  "Lovely plumage though...",
  "Spam spam spam spam spam spam...",
  "My hovercraft is full of eels...",
  "Just one wafer-thin mint...",
  "Nudge nudge, wink wink...",
  "Wearing high heels, suspendies and a bra...",
  "Oh, you're no fun anymore...",
];

function pickRandom(): string {
  return messages[Math.floor(Math.random() * messages.length)];
}

export default function (pi: ExtensionAPI) {
  pi.on("turn_start", async (_event, ctx) => {
    ctx.ui.setWorkingMessage(pickRandom());
  });

  pi.on("turn_end", async (_event, ctx) => {
    ctx.ui.setWorkingMessage(); // Reset for next time
  });
}
